export function createRouter(){const t=new Set;return{route:(n,o)=>{t.add({pattern:n,fn:o})},exec:(n=location.pathname)=>{for(const o of t){if(typeof o.pattern=="string"){if(o.pattern!==n)continue;return o.fn()}const a=o.pattern.exec(n);if(a===null)continue;const c=a.slice(1).map(decodeURIComponent);if(typeof a.groups=="object"&&a.groups!==null)for(const[s,u]of Object.entries(a.groups))c[s]=decodeURIComponent(u);return o.fn(c)}}}}export function navigate(t,r=!1){const{state:e}=history,{title:n}=document;if(r){history.replaceState(e,n,t),dispatchEvent(new PopStateEvent("replacestate",{state:e}));return}history.pushState(e,n,t),dispatchEvent(new PopStateEvent("pushstate",{state:e}))}export function hijackClicks(t){if(t.defaultPrevented||t.button!==0||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)return;const r=t.target;if(!(r instanceof Element))return;const e=r.closest("a");e===null||e.target!==""&&e.target!=="_self"||e.hostname!==location.hostname||e.dataset.default==="true"||(t.preventDefault(),e.href!==location.href&&navigate(e.href))}
