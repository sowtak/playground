function Ke(t){if(typeof t!="string"||!t)throw new Error("expected a non-empty string, got: "+t)}function xe(t){if(typeof t!="number")throw new Error("expected a number, got: "+t)}const fn=1,hn=1,ue="emoji",we="keyvalue",$e="favorites",mn="tokens",gt="tokens",pn="unicode",_t="count",gn="group",_n="order",bt="group-order",et="eTag",Ge="url",yt="skinTone",Ee="readonly",tt="readwrite",kt="skinUnicodes",bn="skinUnicodes",yn="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",kn="en";function vn(t,e){const n=new Set,o=[];for(const r of t){const a=e(r);n.has(a)||(n.add(a),o.push(r))}return o}function vt(t){return vn(t,e=>e.unicode)}function wn(t){function e(n,o,r){const a=o?t.createObjectStore(n,{keyPath:o}):t.createObjectStore(n);if(r)for(const[u,[h,d]]of Object.entries(r))a.createIndex(u,h,{multiEntry:d});return a}e(we),e(ue,pn,{[gt]:[mn,!0],[bt]:[[gn,_n]],[kt]:[bn,!0]}),e($e,void 0,{[_t]:[""]})}const nt={},We={},He={};function wt(t,e,n){n.onerror=()=>e(n.error),n.onblocked=()=>e(new Error("IDB blocked")),n.onsuccess=()=>t(n.result)}async function En(t){const e=await new Promise((n,o)=>{const r=indexedDB.open(t,fn);nt[t]=r,r.onupgradeneeded=a=>{a.oldVersion<hn&&wn(r.result)},wt(n,o,r)});return e.onclose=()=>ot(t),e}function jn(t){return We[t]||(We[t]=En(t)),We[t]}function te(t,e,n,o){return new Promise((r,a)=>{const u=t.transaction(e,n,{durability:"relaxed"}),h=typeof e=="string"?u.objectStore(e):e.map(l=>u.objectStore(l));let d;o(h,u,l=>{d=l}),u.oncomplete=()=>r(d),u.onerror=()=>a(u.error)})}function ot(t){const e=nt[t],n=e&&e.result;if(n){n.close();const o=He[t];if(o)for(const r of o)r()}delete nt[t],delete We[t],delete He[t]}function Tn(t){return new Promise((e,n)=>{ot(t);const o=indexedDB.deleteDatabase(t);wt(e,n,o)})}function Sn(t,e){let n=He[t];n||(n=He[t]=[]),n.push(e)}const Cn=new Set([":D","xD",":'D","o:)",":x",":p",";p","xp",":l",":z",":j","8D","xo","8)",":B",":o",":s",":'o","Dx","x(","D:",":c",">0)",":3","</3","<3","\\m/",":E","8#"]);function je(t){return t.split(/[\s_]+/).map(e=>!e.match(/\w/)||Cn.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/â€™/g,"'").toLowerCase()).filter(Boolean)}const Dn=2;function Et(t){return t.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=Dn)}function Ln(t){return t.map(({annotation:n,emoticon:o,group:r,order:a,shortcodes:u,skins:h,tags:d,emoji:l,version:g})=>{const p=[...new Set(Et([...(u||[]).map(je).flat(),...d.map(je).flat(),...je(n),o]))].sort(),f={annotation:n,group:r,order:a,tags:d,tokens:p,unicode:l,version:g};if(o&&(f.emoticon=o),u&&(f.shortcodes=u),h){f.skinTones=[],f.skinUnicodes=[],f.skinVersions=[];for(const{tone:_,emoji:E,version:v}of h)f.skinTones.push(_),f.skinUnicodes.push(E),f.skinVersions.push(v)}return f})}function jt(t,e,n,o){t[e](n).onsuccess=r=>o&&o(r.target.result)}function de(t,e,n){jt(t,"get",e,n)}function Tt(t,e,n){jt(t,"getAll",e,n)}function it(t){t.commit&&t.commit()}function In(t,e){let n=t[0];for(let o=1;o<t.length;o++){const r=t[o];e(n)>e(r)&&(n=r)}return n}function St(t,e){const n=In(t,r=>r.length),o=[];for(const r of n)t.some(a=>a.findIndex(u=>e(u)===e(r))===-1)||o.push(r);return o}async function An(t){return!await rt(t,we,Ge)}async function On(t,e,n){const[o,r]=await Promise.all([et,Ge].map(a=>rt(t,we,a)));return o===n&&r===e}async function Rn(t,e){const n=50;return te(t,ue,Ee,(o,r,a)=>{let u;const h=()=>{o.getAll(u&&IDBKeyRange.lowerBound(u,!0),n).onsuccess=d=>{const l=d.target.result;for(const g of l)if(u=g.unicode,e(g))return a(g);if(l.length<n)return a();h()}};h()})}async function Ct(t,e,n,o){try{const r=Ln(e);await te(t,[ue,we],tt,([a,u],h)=>{let d,l,g=0;function p(){++g==2&&f()}function f(){if(!(d===o&&l===n)){a.clear();for(const _ of r)a.put(_);u.put(o,et),u.put(n,Ge),it(h)}}de(u,et,_=>{d=_,p()}),de(u,Ge,_=>{l=_,p()})})}finally{}}async function zn(t,e){return te(t,ue,Ee,(n,o,r)=>{const a=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);Tt(n.index(bt),a,r)})}async function Dt(t,e){const n=Et(je(e));return n.length?te(t,ue,Ee,(o,r,a)=>{const u=[],h=()=>{u.length===n.length&&d()},d=()=>{const l=St(u,g=>g.unicode);a(l.sort((g,p)=>g.order<p.order?-1:1))};for(let l=0;l<n.length;l++){const g=n[l],p=l===n.length-1?IDBKeyRange.bound(g,g+"\uFFFF",!1,!0):IDBKeyRange.only(g);Tt(o.index(gt),p,f=>{u.push(f),h()})}}):[]}async function Bn(t,e){const n=await Dt(t,e);return n.length?n.filter(o=>(o.shortcodes||[]).map(a=>a.toLowerCase()).includes(e.toLowerCase()))[0]||null:await Rn(t,r=>(r.shortcodes||[]).includes(e.toLowerCase()))||null}async function Nn(t,e){return te(t,ue,Ee,(n,o,r)=>de(n,e,a=>{if(a)return r(a);de(n.index(kt),e,u=>r(u||null))}))}function rt(t,e,n){return te(t,e,Ee,(o,r,a)=>de(o,n,a))}function Mn(t,e,n,o){return te(t,e,tt,(r,a)=>{r.put(o,n),it(a)})}function Fn(t,e){return te(t,$e,tt,(n,o)=>de(n,e,r=>{n.put((r||0)+1,e),it(o)}))}function Un(t,e,n){return n===0?[]:te(t,[$e,ue],Ee,([o,r],a,u)=>{const h=[];o.index(_t).openCursor(void 0,"prev").onsuccess=d=>{const l=d.target.result;if(!l)return u(h);function g(_){if(h.push(_),h.length===n)return u(h);l.continue()}const p=l.primaryKey,f=e.byName(p);if(f)return g(f);de(r,p,_=>{if(_)return g(_);l.continue()})}})}const Ve="";function Pn(t,e){const n=new Map;for(const r of t){const a=e(r);for(const u of a){let h=n;for(let l=0;l<u.length;l++){const g=u.charAt(l);let p=h.get(g);p||(p=new Map,h.set(g,p)),h=p}let d=h.get(Ve);d||(d=[],h.set(Ve,d)),d.push(r)}}return(r,a)=>{let u=n;for(let l=0;l<r.length;l++){const g=r.charAt(l),p=u.get(g);if(p)u=p;else return[]}if(a)return u.get(Ve)||[];const h=[],d=[u];for(;d.length;){const g=[...d.shift().entries()].sort((p,f)=>p[0]<f[0]?-1:1);for(const[p,f]of g)p===Ve?h.push(...f):d.push(f)}return h}}const Kn=["name","url"];function Gn(t){const e=t&&Array.isArray(t),n=e&&t.length&&(!t[0]||Kn.some(o=>!(o in t[0])));if(!e||n)throw new Error("Custom emojis are in the wrong format")}function Lt(t){Gn(t);const e=(f,_)=>f.name.toLowerCase()<_.name.toLowerCase()?-1:1,n=t.sort(e),r=Pn(t,f=>[...new Set((f.shortcodes||[]).map(_=>je(_)).flat())]),a=f=>r(f,!0),u=f=>r(f,!1),h=f=>{const _=je(f),E=_.map((v,y)=>(y<_.length-1?a:u)(v));return St(E,v=>v.name).sort(e)},d=new Map,l=new Map;for(const f of t){l.set(f.name.toLowerCase(),f);for(const _ of f.shortcodes||[])d.set(_.toLowerCase(),f)}return{all:n,search:h,byShortcode:f=>d.get(f.toLowerCase()),byName:f=>l.get(f.toLowerCase())}}function Le(t){if(!t)return t;if(delete t.tokens,t.skinTones){const e=t.skinTones.length;t.skins=Array(e);for(let n=0;n<e;n++)t.skins[n]={tone:t.skinTones[n],unicode:t.skinUnicodes[n],version:t.skinVersions[n]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function It(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const Wn=["annotation","emoji","group","order","tags","version"];function Hn(t){if(!t||!Array.isArray(t)||!t[0]||typeof t[0]!="object"||Wn.some(e=>!(e in t[0])))throw new Error("Emoji data is in the wrong format")}function At(t,e){if(Math.floor(t.status/100)!==2)throw new Error("Failed to fetch: "+e+":  "+t.status)}async function Vn(t){const e=await fetch(t,{method:"HEAD"});At(e,t);const n=e.headers.get("etag");return It(n),n}async function st(t){const e=await fetch(t);At(e,t);const n=e.headers.get("etag");It(n);const o=await e.json();return Hn(o),[n,o]}function Yn(t){for(var e="",n=new Uint8Array(t),o=n.byteLength,r=-1;++r<o;)e+=String.fromCharCode(n[r]);return e}function qn(t){for(var e=t.length,n=new ArrayBuffer(e),o=new Uint8Array(n),r=-1;++r<e;)o[r]=t.charCodeAt(r);return n}async function Ot(t){const e=JSON.stringify(t),n=qn(e),o=await crypto.subtle.digest("SHA-1",n),r=Yn(o);return btoa(r)}async function Xn(t,e){let n,o=await Vn(e);if(!o){const r=await st(e);o=r[0],n=r[1],o||(o=await Ot(n))}await On(t,e,o)||(n||(n=(await st(e))[1]),await Ct(t,n,e,o))}async function Zn(t,e){let[n,o]=await st(e);n||(n=await Ot(o)),await Ct(t,o,e,n)}class Rt{constructor({dataSource:e=yn,locale:n=kn,customEmoji:o=[]}={}){this.dataSource=e,this.locale=n,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Lt(o),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await jn(this._dbName);Sn(this._dbName,this._clear);const n=this.dataSource;await An(e)?await Zn(e,n):this._lazyUpdate=Xn(e,n)}async ready(){return this._ready||(this._ready=this._init()),this._ready}async getEmojiByGroup(e){return xe(e),await this.ready(),vt(await zn(this._db,e)).map(Le)}async getEmojiBySearchQuery(e){Ke(e),await this.ready();const n=this._custom.search(e),o=vt(await Dt(this._db,e)).map(Le);return[...n,...o]}async getEmojiByShortcode(e){Ke(e),await this.ready();const n=this._custom.byShortcode(e);return n||Le(await Bn(this._db,e))}async getEmojiByUnicodeOrName(e){Ke(e),await this.ready();const n=this._custom.byName(e);return n||Le(await Nn(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await rt(this._db,we,yt)||0}async setPreferredSkinTone(e){return xe(e),await this.ready(),Mn(this._db,we,yt,e)}async incrementFavoriteEmojiCount(e){return Ke(e),await this.ready(),Fn(this._db,e)}async getTopFavoriteEmoji(e){return xe(e),await this.ready(),(await Un(this._db,this._custom,e)).map(Le)}set customEmoji(e){this._custom=Lt(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await ot(this._dbName)}async delete(){await this._shutdown(),await Tn(this._dbName)}}function Ie(){}function zt(t){return t()}function Bt(){return Object.create(null)}function Ae(t){t.forEach(zt)}function Nt(t){return typeof t=="function"}function Jn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ye;function qe(t,e){return Ye||(Ye=document.createElement("a")),Ye.href=e,t===Ye.href}function Qn(t){return Object.keys(t).length===0}function xn(t){return t&&Nt(t.destroy)?t.destroy:Ie}function S(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function Y(t){t.parentNode.removeChild(t)}function T(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function q(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function i(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function J(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Mt(t,e){t.value=e??""}function ie(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let Ft;function Xe(t){Ft=t}const Oe=[],Te=[],Ze=[],Ut=[],Pt=Promise.resolve();let at=!1;function Kt(){at||(at=!0,Pt.then(Gt))}function $n(){return Kt(),Pt}function lt(t){Ze.push(t)}let ct=!1;const ut=new Set;function Gt(){if(!ct){ct=!0;do{for(let t=0;t<Oe.length;t+=1){const e=Oe[t];Xe(e),eo(e.$$)}for(Xe(null),Oe.length=0;Te.length;)Te.pop()();for(let t=0;t<Ze.length;t+=1){const e=Ze[t];ut.has(e)||(ut.add(e),e())}Ze.length=0}while(Oe.length);for(;Ut.length;)Ut.pop()();at=!1,ct=!1,ut.clear()}}function eo(t){if(t.fragment!==null){t.update(),Ae(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}const to=new Set;function Wt(t,e){t&&t.i&&(to.delete(t),t.i(e))}const no=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Re(t,e){t.d(1),e.delete(t.key)}function ze(t,e,n,o,r,a,u,h,d,l,g,p){let f=t.length,_=a.length,E=f;const v={};for(;E--;)v[t[E].key]=E;const y=[],C=new Map,z=new Map;for(E=_;E--;){const j=p(r,a,E),k=n(j);let D=u.get(k);D?o&&D.p(j,e):(D=l(k,j),D.c()),C.set(k,y[E]=D),k in v&&z.set(k,Math.abs(E-v[k]))}const I=new Set,M=new Set;function N(j){Wt(j,1),j.m(h,g),u.set(j.key,j),g=j.first,_--}for(;f&&_;){const j=y[_-1],k=t[f-1],D=j.key,X=k.key;j===k?(g=j.first,f--,_--):C.has(X)?!u.has(D)||I.has(D)?N(j):M.has(X)?f--:z.get(D)>z.get(X)?(M.add(D),N(j)):(I.add(X),f--):(d(k,u),f--)}for(;f--;){const j=t[f];C.has(j.key)||d(j,u)}for(;_;)N(y[_-1]);return y}function oo(t,e,n,o){const{fragment:r,on_mount:a,on_destroy:u,after_update:h}=t.$$;r&&r.m(e,n),o||lt(()=>{const d=a.map(zt).filter(Nt);u?u.push(...d):Ae(d),t.$$.on_mount=[]}),h.forEach(lt)}function io(t,e){const n=t.$$;n.fragment!==null&&(Ae(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ro(t,e){t.$$.dirty[0]===-1&&(Oe.push(t),Kt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function so(t,e,n,o,r,a,u,h=[-1]){const d=Ft;Xe(t);const l=t.$$={fragment:null,ctx:null,props:a,update:Ie,not_equal:r,bound:Bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:e.context||[]),callbacks:Bt(),dirty:h,skip_bound:!1,root:e.target||d.$$.root};u&&u(l.root);let g=!1;l.ctx=n?n(t,e.props||{},(p,f,..._)=>{const E=_.length?_[0]:f;return l.ctx&&r(l.ctx[p],l.ctx[p]=E)&&(!l.skip_bound&&l.bound[p]&&l.bound[p](E),g&&ro(t,p)),f}):[],l.update(),g=!0,Ae(l.before_update),l.fragment=o?o(l.ctx):!1,e.target&&(l.fragment&&l.fragment.c(),e.intro&&Wt(t.$$.fragment),oo(t,e.target,e.anchor,e.customElement),Gt()),Xe(d)}class ao{$destroy(){io(this,1),this.$destroy=Ie}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!Qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ht=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([t,e,n])=>({id:t,emoji:e,name:n})),Je=Ht.slice(1),lo=Ht[0],co=2,Vt=6,Yt=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function qt(t){return t.unicode.includes("\u200D")}const uo={"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},fo=1e3,ho="\u{1F590}\uFE0F",mo=8,po=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],Xt='"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',go=(t,e)=>t<e?-1:t>e?1:0,Zt=(t,e)=>{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d");return o.textBaseline="top",o.font=`100px ${Xt}`,o.fillStyle=e,o.scale(.01,.01),o.fillText(t,0,0),o.getImageData(0,0,1,1).data},_o=(t,e)=>{const n=[...t].join(","),o=[...e].join(",");return n===o&&!n.startsWith("0,0,0,")};function bo(t){const e=Zt(t,"#000"),n=Zt(t,"#fff");return e&&n&&_o(e,n)}function yo(){const t=Object.entries(uo);try{for(const[e,n]of t)if(bo(e))return n}catch(e){}finally{}return t[0][1]}const dt=new Promise(t=>Yt(()=>t(yo()))),ft=new Map,ko="\uFE0F",vo="\uD83C",wo="\u200D",Eo=127995,jo=57339;function To(t,e){if(e===0)return t;const n=t.indexOf(wo);return n!==-1?t.substring(0,n)+String.fromCodePoint(Eo+e-1)+t.substring(n):(t.endsWith(ko)&&(t=t.substring(0,t.length-1)),t+vo+String.fromCodePoint(jo+e-1))}function re(t){t.preventDefault(),t.stopPropagation()}function ht(t,e,n){return e+=t?-1:1,e<0?e=n.length-1:e>=n.length&&(e=0),e}function Jt(t,e){const n=new Set,o=[];for(const r of t){const a=e(r);n.has(a)||(n.add(a),o.push(r))}return o}function So(t,e){const n=o=>{const r={};for(const a of o)typeof a.tone=="number"&&a.version<=e&&(r[a.tone]=a.unicode);return r};return t.map(({unicode:o,skins:r,shortcodes:a,url:u,name:h,category:d})=>({unicode:o,name:h,shortcodes:a,url:u,category:d,id:o||h,skins:r&&n(r),title:(a||[]).join(", ")}))}const Qe=requestAnimationFrame;let Co=typeof ResizeObserver=="function";function Do(t,e){let n;return Co?(n=new ResizeObserver(o=>e(o[0].contentRect.width)),n.observe(t)):Qe(()=>e(t.getBoundingClientRect().width)),{destroy(){n&&n.disconnect()}}}function Qt(t){{const e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}let mt;function Lo(t,e,n){for(const o of t){const r=n(o),a=Qt(r);typeof mt=="undefined"&&(mt=Qt(e));const u=a/1.8<mt;ft.set(o.unicode,u)}}function Io(t){return Jt(t,e=>e)}const{Map:Be}=no;function xt(t,e,n){const o=t.slice();return o[63]=e[n],o[65]=n,o}function $t(t,e,n){const o=t.slice();return o[66]=e[n],o[65]=n,o}function en(t,e,n){const o=t.slice();return o[63]=e[n],o[65]=n,o}function tn(t,e,n){const o=t.slice();return o[69]=e[n],o}function nn(t,e,n){const o=t.slice();return o[72]=e[n],o[65]=n,o}function on(t,e){let n,o=e[72]+"",r,a,u,h,d,l;return{key:t,first:null,c(){n=T("div"),r=Z(o),i(n,"id",a="skintone-"+e[65]),i(n,"class",u="emoji hide-focus "+(e[65]===e[20]?"active":"")),i(n,"aria-selected",h=e[65]===e[20]),i(n,"role","option"),i(n,"title",d=e[0].skinTones[e[65]]),i(n,"tabindex","-1"),i(n,"aria-label",l=e[0].skinTones[e[65]]),this.first=n},m(g,p){V(g,n,p),S(n,r)},p(g,p){e=g,p[0]&512&&o!==(o=e[72]+"")&&J(r,o),p[0]&512&&a!==(a="skintone-"+e[65])&&i(n,"id",a),p[0]&1049088&&u!==(u="emoji hide-focus "+(e[65]===e[20]?"active":""))&&i(n,"class",u),p[0]&1049088&&h!==(h=e[65]===e[20])&&i(n,"aria-selected",h),p[0]&513&&d!==(d=e[0].skinTones[e[65]])&&i(n,"title",d),p[0]&513&&l!==(l=e[0].skinTones[e[65]])&&i(n,"aria-label",l)},d(g){g&&Y(n)}}}function rn(t,e){let n,o,r=e[69].emoji+"",a,u,h,d,l,g,p;function f(){return e[49](e[69])}return{key:t,first:null,c(){n=T("button"),o=T("div"),a=Z(r),i(o,"class","nav-emoji emoji"),i(n,"role","tab"),i(n,"class","nav-button"),i(n,"aria-controls",u="tab-"+e[69].id),i(n,"aria-label",h=e[0].categories[e[69].name]),i(n,"aria-selected",d=!e[4]&&e[13].id===e[69].id),i(n,"title",l=e[0].categories[e[69].name]),this.first=n},m(_,E){V(_,n,E),S(n,o),S(o,a),g||(p=q(n,"click",f),g=!0)},p(_,E){e=_,E[0]&4096&&r!==(r=e[69].emoji+"")&&J(a,r),E[0]&4096&&u!==(u="tab-"+e[69].id)&&i(n,"aria-controls",u),E[0]&4097&&h!==(h=e[0].categories[e[69].name])&&i(n,"aria-label",h),E[0]&12304&&d!==(d=!e[4]&&e[13].id===e[69].id)&&i(n,"aria-selected",d),E[0]&4097&&l!==(l=e[0].categories[e[69].name])&&i(n,"title",l)},d(_){_&&Y(n),g=!1,p()}}}function Ao(t){let e,n;return{c(){e=T("img"),i(e,"class","custom-emoji"),qe(e.src,n=t[63].url)||i(e,"src",n),i(e,"alt",""),i(e,"loading","lazy")},m(o,r){V(o,e,r)},p(o,r){r[0]&32768&&!qe(e.src,n=o[63].url)&&i(e,"src",n)},d(o){o&&Y(e)}}}function Oo(t){let e=t[27](t[63],t[8])+"",n;return{c(){n=Z(e)},m(o,r){V(o,n,r)},p(o,r){r[0]&33024&&e!==(e=o[27](o[63],o[8])+"")&&J(n,e)},d(o){o&&Y(n)}}}function sn(t,e){let n,o,r,a,u,h,d;function l(f,_){return f[63].unicode?Oo:Ao}let g=l(e),p=g(e);return{key:t,first:null,c(){n=T("button"),p.c(),i(n,"role",o=e[4]?"option":"menuitem"),i(n,"aria-selected",r=e[4]?e[65]==e[5]:""),i(n,"aria-label",a=e[28](e[63],e[8])),i(n,"title",u=e[63].title),i(n,"class",h="emoji "+(e[4]&&e[65]===e[5]?"active":"")),i(n,"id",d="emo-"+e[63].id),this.first=n},m(f,_){V(f,n,_),p.m(n,null)},p(f,_){e=f,g===(g=l(e))&&p?p.p(e,_):(p.d(1),p=g(e),p&&(p.c(),p.m(n,null))),_[0]&16&&o!==(o=e[4]?"option":"menuitem")&&i(n,"role",o),_[0]&32816&&r!==(r=e[4]?e[65]==e[5]:"")&&i(n,"aria-selected",r),_[0]&33024&&a!==(a=e[28](e[63],e[8]))&&i(n,"aria-label",a),_[0]&32768&&u!==(u=e[63].title)&&i(n,"title",u),_[0]&32816&&h!==(h="emoji "+(e[4]&&e[65]===e[5]?"active":""))&&i(n,"class",h),_[0]&32768&&d!==(d="emo-"+e[63].id)&&i(n,"id",d)},d(f){f&&Y(n),p.d()}}}function an(t,e){let n,o=(e[4]?e[0].searchResultsLabel:e[66].category?e[66].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"",r,a,u,h,d=[],l=new Be,g,p,f,_=e[66].emojis;const E=v=>v[63].id;for(let v=0;v<_.length;v+=1){let y=en(e,_,v),C=E(y);l.set(C,d[v]=sn(C,y))}return{key:t,first:null,c(){n=T("div"),r=Z(o),h=T("div");for(let v=0;v<d.length;v+=1)d[v].c();i(n,"id",a="menu-label-"+e[65]),i(n,"class",u="category "+(e[15].length===1&&e[15][0].category===""?"gone":"")),i(n,"aria-hidden","true"),i(h,"class","emoji-menu"),i(h,"role",g=e[4]?"listbox":"menu"),i(h,"aria-labelledby",p="menu-label-"+e[65]),i(h,"id",f=e[4]?"search-results":""),this.first=n},m(v,y){V(v,n,y),S(n,r),V(v,h,y);for(let C=0;C<d.length;C+=1)d[C].m(h,null)},p(v,y){e=v,y[0]&40977&&o!==(o=(e[4]?e[0].searchResultsLabel:e[66].category?e[66].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"")&&J(r,o),y[0]&32768&&a!==(a="menu-label-"+e[65])&&i(n,"id",a),y[0]&32768&&u!==(u="category "+(e[15].length===1&&e[15][0].category===""?"gone":""))&&i(n,"class",u),y[0]&402686256&&(_=e[66].emojis,d=ze(d,y,E,1,e,_,l,h,Re,sn,null,en)),y[0]&16&&g!==(g=e[4]?"listbox":"menu")&&i(h,"role",g),y[0]&32768&&p!==(p="menu-label-"+e[65])&&i(h,"aria-labelledby",p),y[0]&16&&f!==(f=e[4]?"search-results":"")&&i(h,"id",f)},d(v){v&&Y(n),v&&Y(h);for(let y=0;y<d.length;y+=1)d[y].d()}}}function Ro(t){let e,n;return{c(){e=T("img"),i(e,"class","custom-emoji"),qe(e.src,n=t[63].url)||i(e,"src",n),i(e,"alt",""),i(e,"loading","lazy")},m(o,r){V(o,e,r)},p(o,r){r[0]&1024&&!qe(e.src,n=o[63].url)&&i(e,"src",n)},d(o){o&&Y(e)}}}function zo(t){let e=t[27](t[63],t[8])+"",n;return{c(){n=Z(e)},m(o,r){V(o,n,r)},p(o,r){r[0]&1280&&e!==(e=o[27](o[63],o[8])+"")&&J(n,e)},d(o){o&&Y(n)}}}function ln(t,e){let n,o,r,a;function u(l,g){return l[63].unicode?zo:Ro}let h=u(e),d=h(e);return{key:t,first:null,c(){n=T("button"),d.c(),i(n,"role","menuitem"),i(n,"aria-label",o=e[28](e[63],e[8])),i(n,"title",r=e[63].title),i(n,"class","emoji"),i(n,"id",a="fav-"+e[63].id),this.first=n},m(l,g){V(l,n,g),d.m(n,null)},p(l,g){e=l,h===(h=u(e))&&d?d.p(e,g):(d.d(1),d=h(e),d&&(d.c(),d.m(n,null))),g[0]&1280&&o!==(o=e[28](e[63],e[8]))&&i(n,"aria-label",o),g[0]&1024&&r!==(r=e[63].title)&&i(n,"title",r),g[0]&1024&&a!==(a="fav-"+e[63].id)&&i(n,"id",a)},d(l){l&&Y(n),d.d()}}}function Bo(t){let e,n,o,r,a,u,h,d,l,g=t[0].searchLabel+"",p,f,_=t[0].searchDescription+"",E,v,y,C,z,I,M,N=t[0].skinToneDescription+"",j,k,D=[],X=new Be,se,P,ne,Q,O,F=[],Se=new Be,oe,U,K,B,fe,x,A,$,G=[],Ce=new Be,he,me,pe,ae,R,W=[],Ne=new Be,ge,le,ee,ce,De,_e,be=t[9];const Me=c=>c[72];for(let c=0;c<be.length;c+=1){let m=nn(t,be,c),s=Me(m);X.set(s,D[c]=on(s,m))}let ye=t[12];const Fe=c=>c[69].id;for(let c=0;c<ye.length;c+=1){let m=tn(t,ye,c),s=Fe(m);Se.set(s,F[c]=rn(s,m))}let ke=t[15];const Ue=c=>c[66].category;for(let c=0;c<ke.length;c+=1){let m=$t(t,ke,c),s=Ue(m);Ce.set(s,G[c]=an(s,m))}let ve=t[10];const Pe=c=>c[63].id;for(let c=0;c<ve.length;c+=1){let m=xt(t,ve,c),s=Pe(m);Ne.set(s,W[c]=ln(s,m))}return{c(){e=T("section"),n=T("div"),o=T("div"),r=T("div"),a=T("input"),l=T("label"),p=Z(g),f=T("span"),E=Z(_),v=T("div"),y=T("button"),C=Z(t[21]),M=T("span"),j=Z(N),k=T("div");for(let c=0;c<D.length;c+=1)D[c].c();O=T("div");for(let c=0;c<F.length;c+=1)F[c].c();U=T("div"),K=T("div"),B=T("div"),fe=Z(t[18]),A=T("div"),$=T("div");for(let c=0;c<G.length;c+=1)G[c].c();R=T("div");for(let c=0;c<W.length;c+=1)W[c].c();ee=T("button"),ee.textContent="\u{1F600}",i(n,"class","pad-top"),i(a,"id","search"),i(a,"class","search"),i(a,"type","search"),i(a,"role","combobox"),i(a,"enterkeyhint","search"),i(a,"placeholder",u=t[0].searchLabel),i(a,"autocapitalize","none"),i(a,"autocomplete","off"),i(a,"spellcheck","true"),i(a,"aria-expanded",h=!!(t[4]&&t[1].length)),i(a,"aria-controls","search-results"),i(a,"aria-owns","search-results"),i(a,"aria-describedby","search-description"),i(a,"aria-autocomplete","list"),i(a,"aria-activedescendant",d=t[26]?`emo-${t[26]}`:""),i(l,"class","sr-only"),i(l,"for","search"),i(f,"id","search-description"),i(f,"class","sr-only"),i(r,"class","search-wrapper"),i(y,"id","skintone-button"),i(y,"class",z="emoji "+(t[6]?"hide-focus":"")),i(y,"aria-label",t[23]),i(y,"title",t[23]),i(y,"aria-describedby","skintone-description"),i(y,"aria-haspopup","listbox"),i(y,"aria-expanded",t[6]),i(y,"aria-controls","skintone-list"),i(v,"class",I="skintone-button-wrapper "+(t[19]?"expanded":"")),i(M,"id","skintone-description"),i(M,"class","sr-only"),i(k,"id","skintone-list"),i(k,"class",se="skintone-list "+(t[6]?"":"hidden no-animate")),ie(k,"transform","translateY("+(t[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),i(k,"role","listbox"),i(k,"aria-label",P=t[0].skinTonesLabel),i(k,"aria-activedescendant",ne="skintone-"+t[20]),i(k,"aria-hidden",Q=!t[6]),i(o,"class","search-row"),i(O,"class","nav"),i(O,"role","tablist"),ie(O,"grid-template-columns","repeat("+t[12].length+", 1fr)"),i(O,"aria-label",oe=t[0].categoriesLabel),i(K,"class","indicator"),ie(K,"transform","translateX("+(t[24]?-1:1)*t[11]*100+"%)"),i(U,"class","indicator-wrapper"),i(B,"class",x="message "+(t[18]?"":"gone")),i(B,"role","alert"),i(B,"aria-live","polite"),i(A,"class",he="tabpanel "+(!t[14]||t[18]?"gone":"")),i(A,"role",me=t[4]?"region":"tabpanel"),i(A,"aria-label",pe=t[4]?t[0].searchResultsLabel:t[0].categories[t[13].name]),i(A,"id",ae=t[4]?"":`tab-${t[13].id}`),i(A,"tabindex","0"),i(R,"class",ge="favorites emoji-menu "+(t[18]?"gone":"")),i(R,"role","menu"),i(R,"aria-label",le=t[0].favoritesLabel),ie(R,"padding-inline-end",t[25]+"px"),i(ee,"aria-hidden","true"),i(ee,"tabindex","-1"),i(ee,"class","abs-pos hidden emoji"),i(e,"class","picker"),i(e,"aria-label",ce=t[0].regionLabel),i(e,"style",t[22])},m(c,m){V(c,e,m),S(e,n),S(e,o),S(o,r),S(r,a),Mt(a,t[2]),S(r,l),S(l,p),S(r,f),S(f,E),S(o,v),S(v,y),S(y,C),S(o,M),S(M,j),S(o,k);for(let s=0;s<D.length;s+=1)D[s].m(k,null);t[48](k),S(e,O);for(let s=0;s<F.length;s+=1)F[s].m(O,null);S(e,U),S(U,K),S(e,B),S(B,fe),S(e,A),S(A,$);for(let s=0;s<G.length;s+=1)G[s].m($,null);t[50](A),S(e,R);for(let s=0;s<W.length;s+=1)W[s].m(R,null);S(e,ee),t[51](ee),t[52](e),De||(_e=[q(a,"input",t[47]),q(a,"keydown",t[30]),q(y,"click",t[35]),q(k,"focusout",t[38]),q(k,"click",t[34]),q(k,"keydown",t[36]),q(k,"keyup",t[37]),q(O,"keydown",t[32]),xn(t[29].call(null,$)),q(A,"click",t[33]),q(R,"click",t[33])],De=!0)},p(c,m){m[0]&1&&u!==(u=c[0].searchLabel)&&i(a,"placeholder",u),m[0]&18&&h!==(h=!!(c[4]&&c[1].length))&&i(a,"aria-expanded",h),m[0]&67108864&&d!==(d=c[26]?`emo-${c[26]}`:"")&&i(a,"aria-activedescendant",d),m[0]&4&&Mt(a,c[2]),m[0]&1&&g!==(g=c[0].searchLabel+"")&&J(p,g),m[0]&1&&_!==(_=c[0].searchDescription+"")&&J(E,_),m[0]&2097152&&J(C,c[21]),m[0]&64&&z!==(z="emoji "+(c[6]?"hide-focus":""))&&i(y,"class",z),m[0]&8388608&&i(y,"aria-label",c[23]),m[0]&8388608&&i(y,"title",c[23]),m[0]&64&&i(y,"aria-expanded",c[6]),m[0]&524288&&I!==(I="skintone-button-wrapper "+(c[19]?"expanded":""))&&i(v,"class",I),m[0]&1&&N!==(N=c[0].skinToneDescription+"")&&J(j,N),m[0]&1049089&&(be=c[9],D=ze(D,m,Me,1,c,be,X,k,Re,on,null,nn)),m[0]&64&&se!==(se="skintone-list "+(c[6]?"":"hidden no-animate"))&&i(k,"class",se),m[0]&64&&ie(k,"transform","translateY("+(c[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),m[0]&1&&P!==(P=c[0].skinTonesLabel)&&i(k,"aria-label",P),m[0]&1048576&&ne!==(ne="skintone-"+c[20])&&i(k,"aria-activedescendant",ne),m[0]&64&&Q!==(Q=!c[6])&&i(k,"aria-hidden",Q),m[0]&12305|m[1]&1&&(ye=c[12],F=ze(F,m,Fe,1,c,ye,Se,O,Re,rn,null,tn)),m[0]&4096&&ie(O,"grid-template-columns","repeat("+c[12].length+", 1fr)"),m[0]&1&&oe!==(oe=c[0].categoriesLabel)&&i(O,"aria-label",oe),m[0]&16779264&&ie(K,"transform","translateX("+(c[24]?-1:1)*c[11]*100+"%)"),m[0]&262144&&J(fe,c[18]),m[0]&262144&&x!==(x="message "+(c[18]?"":"gone"))&&i(B,"class",x),m[0]&402694449&&(ke=c[15],G=ze(G,m,Ue,1,c,ke,Ce,$,Re,an,null,$t)),m[0]&278528&&he!==(he="tabpanel "+(!c[14]||c[18]?"gone":""))&&i(A,"class",he),m[0]&16&&me!==(me=c[4]?"region":"tabpanel")&&i(A,"role",me),m[0]&8209&&pe!==(pe=c[4]?c[0].searchResultsLabel:c[0].categories[c[13].name])&&i(A,"aria-label",pe),m[0]&8208&&ae!==(ae=c[4]?"":`tab-${c[13].id}`)&&i(A,"id",ae),m[0]&402654464&&(ve=c[10],W=ze(W,m,Pe,1,c,ve,Ne,R,Re,ln,null,xt)),m[0]&262144&&ge!==(ge="favorites emoji-menu "+(c[18]?"gone":""))&&i(R,"class",ge),m[0]&1&&le!==(le=c[0].favoritesLabel)&&i(R,"aria-label",le),m[0]&33554432&&ie(R,"padding-inline-end",c[25]+"px"),m[0]&1&&ce!==(ce=c[0].regionLabel)&&i(e,"aria-label",ce),m[0]&4194304&&i(e,"style",c[22])},i:Ie,o:Ie,d(c){c&&Y(e);for(let m=0;m<D.length;m+=1)D[m].d();t[48](null);for(let m=0;m<F.length;m+=1)F[m].d();for(let m=0;m<G.length;m+=1)G[m].d();t[50](null);for(let m=0;m<W.length;m+=1)W[m].d();t[51](null),t[52](null),De=!1,Ae(_e)}}}function No(t,e,n){let{skinToneEmoji:o}=e,{i18n:r}=e,{database:a}=e,{customEmoji:u}=e,{customCategorySorting:h}=e,d=!0,l=[],g=[],p="",f="",_,E,v,y=!1,C=-1,z,I=!1,M=!1,N,j=0,k=0,D,X,se="",P=[],ne=[],Q,O=mo,F=!1,Se=0,oe=0,U=Je,K,B=!1,fe;const x=s=>{_.getRootNode().getElementById(s).focus()},A=(s,b)=>{_.dispatchEvent(new CustomEvent(s,{detail:b,bubbles:!0,composed:!0}))},$=(s,b)=>b&&s.skins&&s.skins[b]||s.unicode,G=(s,b)=>Io([s.name||$(s,b),...s.shortcodes||[]]).join(", "),Ce=s=>/^skintone-/.test(s.id);dt.then(s=>{s||n(18,z=r.emojiUnsupportedMessage)});function he(s){return Do(s,b=>{{const w=getComputedStyle(_),L=parseInt(w.getPropertyValue("--num-columns"),10),H=w.getPropertyValue("direction")==="rtl",dn=s.parentElement.getBoundingClientRect().width-b;n(46,O=L),n(25,Se=dn),n(24,F=H)}})}function me(s){const b=_.getRootNode();Lo(s,E,L=>b.getElementById(`emo-${L.id}`)),n(1,l=l)}function pe(s){return!s.unicode||!qt(s)||ft.get(s.unicode)}async function ae(s){const b=await dt;return s.filter(({version:w})=>!w||w<=b)}async function R(s){return So(s,await dt)}async function W(s){if(typeof s=="undefined")return[];const b=s===-1?u:await a.getEmojiByGroup(s);return R(await ae(b))}async function Ne(s){return R(await ae(await a.getEmojiBySearchQuery(s)))}function ge(s){if(!y||!l.length)return;const b=w=>{re(s),n(5,C=ht(w,C,l))};switch(s.key){case"ArrowDown":return b(!1);case"ArrowUp":return b(!0);case"Enter":if(C!==-1)return re(s),ce(l[C].id);l.length&&n(5,C=0)}}function le(s){n(2,p=""),n(44,f=""),n(5,C=-1),n(11,oe=U.findIndex(b=>b.id===s.id))}function ee(s){const{target:b,key:w}=s,L=H=>{H&&(re(s),H.focus())};switch(w){case"ArrowLeft":return L(b.previousSibling);case"ArrowRight":return L(b.nextSibling);case"Home":return L(b.parentElement.firstChild);case"End":return L(b.parentElement.lastChild)}}async function ce(s){const b=await a.getEmojiByUnicodeOrName(s),w=[...l,...ne].find(H=>H.id===s),L=w.unicode&&$(w,j);await a.incrementFavoriteEmojiCount(s),A("emoji-click",{emoji:b,skinTone:j,...L&&{unicode:L},...w.name&&{name:w.name}})}async function De(s){const{target:b}=s;if(!b.classList.contains("emoji"))return;re(s);const w=b.id.substring(4);ce(w)}async function _e(s){const{target:b}=s;if(!Ce(b))return;re(s);const w=parseInt(b.id.slice(9),10);n(8,j=w),n(6,I=!1),x("skintone-button"),A("skin-tone-change",{skinTone:w}),a.setPreferredSkinTone(w)}async function be(s){n(6,I=!I),n(20,k=j),I&&(re(s),Qe(()=>x(`skintone-${k}`)))}function Me(s){if(!I)return;const b=async w=>{re(s),n(20,k=w),await $n(),x(`skintone-${k}`)};switch(s.key){case"ArrowUp":return b(ht(!0,k,P));case"ArrowDown":return b(ht(!1,k,P));case"Home":return b(0);case"End":return b(P.length-1);case"Enter":return _e(s);case"Escape":return re(s),n(6,I=!1),x("skintone-button")}}function ye(s){if(!!I)switch(s.key){case" ":return _e(s)}}async function Fe(s){const{relatedTarget:b}=s;(!b||!Ce(b))&&n(6,I=!1)}function ke(){p=this.value,n(2,p)}function Ue(s){Te[s?"unshift":"push"](()=>{N=s,n(7,N)})}const ve=s=>le(s);function Pe(s){Te[s?"unshift":"push"](()=>{v=s,n(3,v)})}function c(s){Te[s?"unshift":"push"](()=>{E=s,n(17,E)})}function m(s){Te[s?"unshift":"push"](()=>{_=s,n(16,_)})}return t.$$set=s=>{"skinToneEmoji"in s&&n(40,o=s.skinToneEmoji),"i18n"in s&&n(0,r=s.i18n),"database"in s&&n(39,a=s.database),"customEmoji"in s&&n(41,u=s.customEmoji),"customCategorySorting"in s&&n(42,h=s.customCategorySorting)},t.$$.update=()=>{if(t.$$.dirty[1]&1280&&u&&a&&n(39,a.customEmoji=u,a),t.$$.dirty[0]&1|t.$$.dirty[1]&256){async function s(){let b=!1;const w=setTimeout(()=>{b=!0,n(18,z=r.loadingMessage)},fo);try{await a.ready(),n(14,B=!0)}catch(L){console.error(L),n(18,z=r.networkErrorMessage)}finally{clearTimeout(w),b&&(b=!1,n(18,z=""))}}a&&s()}if(t.$$.dirty[0]&4096|t.$$.dirty[1]&1024&&(u&&u.length?n(12,U=[lo,...Je]):U!==Je&&n(12,U=Je)),t.$$.dirty[0]&4&&Yt(()=>{n(44,f=(p||"").trim()),n(5,C=-1)}),t.$$.dirty[0]&6144&&n(13,K=U[oe]),t.$$.dirty[0]&24576|t.$$.dirty[1]&8192){async function s(){if(!B)n(1,l=[]),n(4,y=!1);else if(f.length>=co){const b=f,w=await Ne(b);b===f&&(n(1,l=w),n(4,y=!0))}else if(K){const b=K.id,w=await W(b);b===K.id&&(n(1,l=w),n(4,y=!1))}}s()}if(t.$$.dirty[0]&4112&&n(22,X=`
  --font-family: ${Xt};
  --num-groups: ${U.length}; 
  --indicator-opacity: ${y?0:1}; 
  --num-skintones: ${Vt};`),t.$$.dirty[0]&16384|t.$$.dirty[1]&256){async function s(){B&&n(8,j=await a.getPreferredSkinTone())}s()}if(t.$$.dirty[1]&512&&n(9,P=Array(Vt).fill().map((s,b)=>To(o,b))),t.$$.dirty[0]&768&&n(21,D=P[j]),t.$$.dirty[0]&257&&n(23,se=r.skinToneLabel.replace("{skinTone}",r.skinTones[j])),t.$$.dirty[0]&16384|t.$$.dirty[1]&256){async function s(){n(45,Q=(await Promise.all(po.map(b=>a.getEmojiByUnicodeOrName(b)))).filter(Boolean))}B&&s()}if(t.$$.dirty[0]&16384|t.$$.dirty[1]&49408){async function s(){const b=await a.getTopFavoriteEmoji(O),w=await R(Jt([...b,...Q],L=>L.unicode||L.name).slice(0,O));n(10,ne=w)}B&&Q&&s()}if(t.$$.dirty[0]&10){const s=l.filter(b=>b.unicode).filter(b=>qt(b)&&!ft.has(b.unicode));s.length?Qe(()=>me(s)):(n(1,l=l.filter(pe)),Qe(()=>{(v||{}).scrollTop=0}))}t.$$.dirty[0]&1026|t.$$.dirty[1]&4096,t.$$.dirty[0]&18|t.$$.dirty[1]&2048&&n(15,g=function(){if(y)return[{category:"",emojis:l}];const b=new Map;for(const w of l){const L=w.category||"";let H=b.get(L);H||(H=[],b.set(L,H)),H.push(w)}return[...b.entries()].map(([w,L])=>({category:w,emojis:L})).sort((w,L)=>h(w.category,L.category))}()),t.$$.dirty[0]&34&&n(26,fe=C!==-1&&l[C].id),t.$$.dirty[0]&192&&(I?N.addEventListener("transitionend",()=>{n(19,M=!0)},{once:!0}):n(19,M=!1))},[r,l,p,v,y,C,I,N,j,P,ne,oe,U,K,B,g,_,E,z,M,k,D,X,se,F,Se,fe,$,G,he,ge,le,ee,De,_e,be,Me,ye,Fe,a,o,u,h,d,f,Q,O,ke,Ue,ve,Pe,c,m]}class Mo extends ao{constructor(e){super();so(this,e,No,Bo,Jn,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const Fo="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Uo="en";var Po={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const cn=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class pt extends HTMLElement{constructor(e){super();this.attachShadow({mode:"open"});const n=document.createElement("style");n.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover)and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(n),this._ctx={locale:Uo,dataSource:Fo,skinToneEmoji:ho,customCategorySorting:go,customEmoji:null,i18n:Po,...e};for(const o of cn)o!=="database"&&Object.prototype.hasOwnProperty.call(this,o)&&(this._ctx[o]=this[o],delete this[o]);this._dbFlush()}connectedCallback(){this._cmp=new Mo({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e&&e.close().catch(n=>console.error(n))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(e,n,o){this._set(e.replace(/-([a-z])/g,(r,a)=>a.toUpperCase()),o)}_set(e,n){this._ctx[e]=n,this._cmp&&this._cmp.$set({[e]:n}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:n,database:o}=this._ctx;(!o||o.locale!==e||o.dataSource!==n)&&this._set("database",new Rt({locale:e,dataSource:n}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const un={};for(const t of cn)un[t]={get(){return t==="database"&&this._dbCreate(),this._ctx[t]},set(e){if(t==="database")throw new Error("database is read-only");this._set(t,e)}};Object.defineProperties(pt.prototype,un),customElements.define("emoji-picker",pt);export{Rt as Database,pt as Picker};
